# https://taskfile.dev
# yaml-language-server: $schema=https://taskfile.dev/schema.json

version: "3"

tasks:
  venv:
    status:
      - "test -d venv"
    cmds:
      - python -m venv venv
    silent: false
  install:
    sources:
      - requirements.txt
    status:
      - '[ "$(venv/Scripts/pip freeze)" -eq "$(cat requirements.txt)" ]'
    deps:
      - venv
    cmds:
      - venv/Scripts/pip install -r requirements.txt
    silent: false
  default:
    deps:
      - install
    cmds:
      - venv/Scripts/python src/main.py
